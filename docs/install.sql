CREATE DATABASE `budget` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;
USE `budget`;

CREATE TABLE IF NOT EXISTS `budgetauth` (
  `agency-code` int(4) NOT NULL DEFAULT '0',
  `agency-name` varchar(255) NOT NULL DEFAULT '',
  `bureau-code` int(4) NOT NULL DEFAULT '0',
  `bureau-name` varchar(255) NOT NULL DEFAULT '',
  `account-code` bigint(20) NOT NULL DEFAULT '0',
  `account-name` varchar(255) NOT NULL DEFAULT '',
  `treasury-agency-code` int(4) NOT NULL DEFAULT '0',
  `subfunction-code` int(4) NOT NULL DEFAULT '0',
  `subfunction-title` varchar(255) NOT NULL DEFAULT '',
  `bea-category` varchar(50) NOT NULL DEFAULT '',
  `on-or-off-budget` enum('Off-budget','On-budget') NOT NULL DEFAULT 'On-budget',
  `1976` bigint(20) NOT NULL DEFAULT '0',
  `tq` bigint(20) NOT NULL DEFAULT '0',
  `1977` bigint(20) NOT NULL DEFAULT '0',
  `1978` bigint(20) NOT NULL DEFAULT '0',
  `1979` bigint(20) NOT NULL DEFAULT '0',
  `1980` bigint(20) NOT NULL DEFAULT '0',
  `1981` bigint(20) NOT NULL DEFAULT '0',
  `1982` bigint(20) NOT NULL DEFAULT '0',
  `1983` bigint(20) NOT NULL DEFAULT '0',
  `1984` bigint(20) NOT NULL DEFAULT '0',
  `1985` bigint(20) NOT NULL DEFAULT '0',
  `1986` bigint(20) NOT NULL DEFAULT '0',
  `1987` bigint(20) NOT NULL DEFAULT '0',
  `1988` bigint(20) NOT NULL DEFAULT '0',
  `1989` bigint(20) NOT NULL DEFAULT '0',
  `1990` bigint(20) NOT NULL DEFAULT '0',
  `1991` bigint(20) NOT NULL DEFAULT '0',
  `1992` bigint(20) NOT NULL DEFAULT '0',
  `1993` bigint(20) NOT NULL DEFAULT '0',
  `1994` bigint(20) NOT NULL DEFAULT '0',
  `1995` bigint(20) NOT NULL DEFAULT '0',
  `1996` bigint(20) NOT NULL DEFAULT '0',
  `1997` bigint(20) NOT NULL DEFAULT '0',
  `1998` bigint(20) NOT NULL DEFAULT '0',
  `1999` bigint(20) NOT NULL DEFAULT '0',
  `2000` bigint(20) NOT NULL DEFAULT '0',
  `2001` bigint(20) NOT NULL DEFAULT '0',
  `2002` bigint(20) NOT NULL DEFAULT '0',
  `2003` bigint(20) NOT NULL DEFAULT '0',
  `2004` bigint(20) NOT NULL DEFAULT '0',
  `2005` bigint(20) NOT NULL DEFAULT '0',
  `2006` bigint(20) NOT NULL DEFAULT '0',
  `2007` bigint(20) NOT NULL DEFAULT '0',
  `2008` bigint(20) NOT NULL DEFAULT '0',
  `2009` bigint(20) NOT NULL DEFAULT '0',
  `2010` bigint(20) NOT NULL DEFAULT '0',
  `2011` bigint(20) NOT NULL DEFAULT '0',
  `2012` bigint(20) NOT NULL DEFAULT '0',
  `2013` bigint(20) NOT NULL DEFAULT '0',
  `2014` bigint(20) NOT NULL DEFAULT '0',
  `2015` bigint(20) NOT NULL DEFAULT '0',
  KEY `agency-code` (`agency-code`),
  KEY `bureau-code` (`bureau-code`),
  KEY `account-code` (`account-code`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `outlays` (
  `agency-code` int(4) NOT NULL DEFAULT '0',
  `agency-name` varchar(255) NOT NULL DEFAULT '',
  `bureau-code` int(4) NOT NULL DEFAULT '0',
  `bureau-name` varchar(255) NOT NULL DEFAULT '',
  `account-code` bigint(20) NOT NULL DEFAULT '0',
  `account-name` varchar(255) NOT NULL DEFAULT '',
  `treasury-agency-code` int(4) NOT NULL DEFAULT '0',
  `subfunction-code` int(4) NOT NULL DEFAULT '0',
  `subfunction-title` varchar(255) NOT NULL DEFAULT '',
  `bea-category` varchar(50) NOT NULL DEFAULT '',
  `grant-non-grant-split` varchar(50) NOT NULL,
  `on-or-off-budget` enum('Off-budget','On-budget') NOT NULL DEFAULT 'On-budget',
  `1962` bigint(20) NOT NULL DEFAULT '0',
  `1963` bigint(20) NOT NULL DEFAULT '0',
  `1964` bigint(20) NOT NULL DEFAULT '0',
  `1965` bigint(20) NOT NULL DEFAULT '0',
  `1966` bigint(20) NOT NULL DEFAULT '0',
  `1967` bigint(20) NOT NULL DEFAULT '0',
  `1968` bigint(20) NOT NULL DEFAULT '0',
  `1969` bigint(20) NOT NULL DEFAULT '0',
  `1970` bigint(20) NOT NULL DEFAULT '0',
  `1971` bigint(20) NOT NULL DEFAULT '0',
  `1972` bigint(20) NOT NULL DEFAULT '0',
  `1973` bigint(20) NOT NULL DEFAULT '0',
  `1974` bigint(20) NOT NULL DEFAULT '0',
  `1975` bigint(20) NOT NULL DEFAULT '0',
  `1976` bigint(20) NOT NULL DEFAULT '0',
  `tq` bigint(20) NOT NULL DEFAULT '0',
  `1977` bigint(20) NOT NULL DEFAULT '0',
  `1978` bigint(20) NOT NULL DEFAULT '0',
  `1979` bigint(20) NOT NULL DEFAULT '0',
  `1980` bigint(20) NOT NULL DEFAULT '0',
  `1981` bigint(20) NOT NULL DEFAULT '0',
  `1982` bigint(20) NOT NULL DEFAULT '0',
  `1983` bigint(20) NOT NULL DEFAULT '0',
  `1984` bigint(20) NOT NULL DEFAULT '0',
  `1985` bigint(20) NOT NULL DEFAULT '0',
  `1986` bigint(20) NOT NULL DEFAULT '0',
  `1987` bigint(20) NOT NULL DEFAULT '0',
  `1988` bigint(20) NOT NULL DEFAULT '0',
  `1989` bigint(20) NOT NULL DEFAULT '0',
  `1990` bigint(20) NOT NULL DEFAULT '0',
  `1991` bigint(20) NOT NULL DEFAULT '0',
  `1992` bigint(20) NOT NULL DEFAULT '0',
  `1993` bigint(20) NOT NULL DEFAULT '0',
  `1994` bigint(20) NOT NULL DEFAULT '0',
  `1995` bigint(20) NOT NULL DEFAULT '0',
  `1996` bigint(20) NOT NULL DEFAULT '0',
  `1997` bigint(20) NOT NULL DEFAULT '0',
  `1998` bigint(20) NOT NULL DEFAULT '0',
  `1999` bigint(20) NOT NULL DEFAULT '0',
  `2000` bigint(20) NOT NULL DEFAULT '0',
  `2001` bigint(20) NOT NULL DEFAULT '0',
  `2002` bigint(20) NOT NULL DEFAULT '0',
  `2003` bigint(20) NOT NULL DEFAULT '0',
  `2004` bigint(20) NOT NULL DEFAULT '0',
  `2005` bigint(20) NOT NULL DEFAULT '0',
  `2006` bigint(20) NOT NULL DEFAULT '0',
  `2007` bigint(20) NOT NULL DEFAULT '0',
  `2008` bigint(20) NOT NULL DEFAULT '0',
  `2009` bigint(20) NOT NULL DEFAULT '0',
  `2010` bigint(20) NOT NULL DEFAULT '0',
  `2011` bigint(20) NOT NULL DEFAULT '0',
  `2012` bigint(20) NOT NULL DEFAULT '0',
  `2013` bigint(20) NOT NULL DEFAULT '0',
  `2014` bigint(20) NOT NULL DEFAULT '0',
  `2015` bigint(20) NOT NULL DEFAULT '0',
  KEY `agency-code` (`agency-code`),
  KEY `bureau-code` (`bureau-code`),
  KEY `account-code` (`account-code`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `receipts` (
  `source-category-code` int(4) NOT NULL DEFAULT '0',
  `source-category-name` varchar(255) NOT NULL DEFAULT '',
  `source-subcategory-code` int(4) NOT NULL DEFAULT '0',
  `source-subcategory-name` varchar(255) NOT NULL DEFAULT '',
  `agency-code` int(4) NOT NULL DEFAULT '0',
  `agency-name` varchar(255) NOT NULL DEFAULT '',
  `bureau-code` int(4) NOT NULL DEFAULT '0',
  `bureau-name` varchar(255) NOT NULL DEFAULT '',
  `account-code` bigint(20) NOT NULL DEFAULT '0',
  `account-name` varchar(255) NOT NULL DEFAULT '',
  `treasury-agency-code` int(4) NOT NULL DEFAULT '0',
  `on-or-off-budget` enum('Off-budget','On-budget') NOT NULL DEFAULT 'On-budget',
  `1962` bigint(20) NOT NULL DEFAULT '0',
  `1963` bigint(20) NOT NULL DEFAULT '0',
  `1964` bigint(20) NOT NULL DEFAULT '0',
  `1965` bigint(20) NOT NULL DEFAULT '0',
  `1966` bigint(20) NOT NULL DEFAULT '0',
  `1967` bigint(20) NOT NULL DEFAULT '0',
  `1968` bigint(20) NOT NULL DEFAULT '0',
  `1969` bigint(20) NOT NULL DEFAULT '0',
  `1970` bigint(20) NOT NULL DEFAULT '0',
  `1971` bigint(20) NOT NULL DEFAULT '0',
  `1972` bigint(20) NOT NULL DEFAULT '0',
  `1973` bigint(20) NOT NULL DEFAULT '0',
  `1974` bigint(20) NOT NULL DEFAULT '0',
  `1975` bigint(20) NOT NULL DEFAULT '0',
  `1976` bigint(20) NOT NULL DEFAULT '0',
  `tq` bigint(20) NOT NULL DEFAULT '0',
  `1977` bigint(20) NOT NULL DEFAULT '0',
  `1978` bigint(20) NOT NULL DEFAULT '0',
  `1979` bigint(20) NOT NULL DEFAULT '0',
  `1980` bigint(20) NOT NULL DEFAULT '0',
  `1981` bigint(20) NOT NULL DEFAULT '0',
  `1982` bigint(20) NOT NULL DEFAULT '0',
  `1983` bigint(20) NOT NULL DEFAULT '0',
  `1984` bigint(20) NOT NULL DEFAULT '0',
  `1985` bigint(20) NOT NULL DEFAULT '0',
  `1986` bigint(20) NOT NULL DEFAULT '0',
  `1987` bigint(20) NOT NULL DEFAULT '0',
  `1988` bigint(20) NOT NULL DEFAULT '0',
  `1989` bigint(20) NOT NULL DEFAULT '0',
  `1990` bigint(20) NOT NULL DEFAULT '0',
  `1991` bigint(20) NOT NULL DEFAULT '0',
  `1992` bigint(20) NOT NULL DEFAULT '0',
  `1993` bigint(20) NOT NULL DEFAULT '0',
  `1994` bigint(20) NOT NULL DEFAULT '0',
  `1995` bigint(20) NOT NULL DEFAULT '0',
  `1996` bigint(20) NOT NULL DEFAULT '0',
  `1997` bigint(20) NOT NULL DEFAULT '0',
  `1998` bigint(20) NOT NULL DEFAULT '0',
  `1999` bigint(20) NOT NULL DEFAULT '0',
  `2000` bigint(20) NOT NULL DEFAULT '0',
  `2001` bigint(20) NOT NULL DEFAULT '0',
  `2002` bigint(20) NOT NULL DEFAULT '0',
  `2003` bigint(20) NOT NULL DEFAULT '0',
  `2004` bigint(20) NOT NULL DEFAULT '0',
  `2005` bigint(20) NOT NULL DEFAULT '0',
  `2006` bigint(20) NOT NULL DEFAULT '0',
  `2007` bigint(20) NOT NULL DEFAULT '0',
  `2008` bigint(20) NOT NULL DEFAULT '0',
  `2009` bigint(20) NOT NULL DEFAULT '0',
  `2010` bigint(20) NOT NULL DEFAULT '0',
  `2011` bigint(20) NOT NULL DEFAULT '0',
  `2012` bigint(20) NOT NULL DEFAULT '0',
  `2013` bigint(20) NOT NULL DEFAULT '0',
  `2014` bigint(20) NOT NULL DEFAULT '0',
  `2015` bigint(20) NOT NULL DEFAULT '0',
  KEY `agency-code` (`agency-code`),
  KEY `bureau-code` (`bureau-code`),
  KEY `account-code` (`account-code`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `spendingcalls` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `date` bigint(20) NOT NULL,
  `type` varchar(10) NOT NULL,
  `year` int(11) NOT NULL,
  `treasury-agency-code` int(11) NOT NULL,
  `account-code` bigint(20) NOT NULL,
  `num-found` bigint(20) NOT NULL,
  `time` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `treasury-agency-code` (`treasury-agency-code`,`account-code`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=754 ;

CREATE TABLE IF NOT EXISTS `spendingtransactions` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `call-id` bigint(20) NOT NULL,
  `count` int(11) NOT NULL,
  `date` varchar(20) NOT NULL,
  `type` varchar(50) NOT NULL,
  `description` varchar(255) NOT NULL,
  `category` varchar(255) NOT NULL,
  `amount` bigint(20) NOT NULL,
  `city-or-county` varchar(255) NOT NULL,
  `state` varchar(50) NOT NULL,
  `recipient-or-contractor` varchar(255) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `call-id` (`call-id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=15413 ;

LOAD DATA INFILE '<REPLACE WITH PATH TO FILE>budgetauth.csv' INTO TABLE `budget`.`budgetauth` FIELDS TERMINATED BY ',' ENCLOSED BY '"' LINES TERMINATED BY '\r\n' IGNORE 1 LINES;
LOAD DATA INFILE '<REPLACE WITH PATH TO FILE>outlays.csv' INTO TABLE `budget`.`outlays` FIELDS TERMINATED BY ',' ENCLOSED BY '"' LINES TERMINATED BY '\r\n' IGNORE 1 LINES;
LOAD DATA INFILE '<REPLACE WITH PATH TO FILE>receipts.csv' INTO TABLE `budget`.`receipts` FIELDS TERMINATED BY ',' ENCLOSED BY '"' LINES TERMINATED BY '\r\n' IGNORE 1 LINES;